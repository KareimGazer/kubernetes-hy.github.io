{"componentChunkName":"component---src-templates-course-content-template-js","path":"/part-2/5-monitoring","result":{"data":{"page":{"htmlAst":{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"text-box","properties":{"variant":"learningObjectives","name":"Learning Objectives"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After this section you"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"know of the wide array of tools used for monitoring and can implement simple logging"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"know about Helm, the package manager for Kubernetes"}]},{"type":"text","value":"\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Our cluster and the apps in it have been pretty much a black box. We've thrown stuff in and then hoped that everything works all right. We're going to use "},{"type":"element","tagName":"a","properties":{"href":"https://prometheus.io/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Prometheus"}]},{"type":"text","value":" to monitor the cluster and "},{"type":"element","tagName":"a","properties":{"href":"https://grafana.com/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Grafana"}]},{"type":"text","value":" to view the data."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before we can get started let's look into how Kubernetes applications are managed more easily. "},{"type":"element","tagName":"a","properties":{"href":"https://helm.sh/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Helm"}]},{"type":"text","value":" uses a packaging format called charts to define the dependencies of an application. Among other things Helm Charts include information for the version of the chart, the requirements of the application such as the Kubernetes version as well as other charts that it may depend on."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Installation instructions are "},{"type":"element","tagName":"a","properties":{"href":"https://helm.sh/docs/intro/install/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":". After that we can add the official charts repository:"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"$ helm repo add prometheus-community https://prometheus-community.github.io/helm-charts\n$ helm repo add stable https://charts.helm.sh/stable"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"And after that we can install "},{"type":"element","tagName":"a","properties":{"href":"https://artifacthub.io/packages/helm/prometheus-community/kube-prometheus-stack","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"kube-prometheus-stack"}]},{"type":"text","value":". By default this would put everything to the default namespace."}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"$ kubectl create namespace prometheus\n$ helm install prometheus-community/kube-prometheus-stack --generate-name --namespace prometheus"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This added a lot of stuff to our cluster. You can remove almost everything with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"helm delete [name]"}]},{"type":"text","value":" with the name found via the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"helm list"}]},{"type":"text","value":" command. Custom resource definitions are left and have to be manually removed if the need arises."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Lets open a way into Grafana so we can see the data."}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"$ kubectl get po -n prometheus\n NAME                                                              READY   STATUS    RESTARTS   AGE\n kube-prometheus-stack-1602180058-prometheus-node-exporter-nt8cp   1/1     Running   0          53s\n kube-prometheus-stack-1602180058-prometheus-node-exporter-ft7dg   1/1     Running   0          53s\n kube-prometheus-stack-1602-operator-557c9c4f5-wbsqc               2/2     Running   0          53s\n kube-prometheus-stack-1602180058-prometheus-node-exporter-tr7ns   1/1     Running   0          53s\n kube-prometheus-stack-1602180058-kube-state-metrics-55dccdkkz6w   1/1     Running   0          53s\n alertmanager-kube-prometheus-stack-1602-alertmanager-0            2/2     Running   0          35s\n kube-prometheus-stack-1602180058-grafana-59cd48d794-4459m         2/2     Running   0          53s\n prometheus-kube-prometheus-stack-1602-prometheus-0                3/3     Running   1          23s\n\n$ kubectl -n prometheus port-forward kube-prometheus-stack-1602180058-grafana-59cd48d794-4459m  3000\n  Forwarding from 127.0.0.1:3000 -> 3000\n  Forwarding from [::1]:3000 -> 3000"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Access "},{"type":"element","tagName":"a","properties":{"href":"http://localhost:3000","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"http://localhost:3000"}]},{"type":"text","value":" with browser and use the credentials admin / prom-operator. At the top left you can browse different dashboards."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The dashboards are nice but we'd like to know more about the apps we're running as well. Let's add "},{"type":"element","tagName":"a","properties":{"href":"https://grafana.com/oss/loki/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Loki"}]},{"type":"text","value":" so that we can see logs. To confirm everything works for us let's create a simple application that'll output something to stdout."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let's run the Redis application from previously "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"https://raw.githubusercontent.com/kubernetes-hy/material-example/master/app5/manifests/statefulset.yaml"}]},{"type":"text","value":". We can keep it running as it'll generate a good amount of log output for us."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/grafana/loki/tree/master/production/helm","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Loki Chart"}]},{"type":"text","value":" includes almost everything:"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"$ helm repo add loki https://grafana.github.io/loki/charts\n$ helm repo update\n$ kubectl create namespace loki-stack\n  namespace/loki-stack created\n\n$ helm upgrade --install loki --namespace=loki-stack loki/loki-stack\n\n$ kubectl get all -n loki-stack\n  NAME                      READY   STATUS    RESTARTS   AGE\n  pod/loki-promtail-n2fgs   1/1     Running   0          18m\n  pod/loki-promtail-h6xq2   1/1     Running   0          18m\n  pod/loki-promtail-8l84g   1/1     Running   0          18m\n  pod/loki-0                1/1     Running   0          18m\n\n  NAME                    TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE\n  service/loki            ClusterIP   10.43.170.68   <none>        3100/TCP   18m\n  service/loki-headless   ClusterIP   None           <none>        3100/TCP   18m\n\n  NAME                           DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR   AGE\n  daemonset.apps/loki-promtail   3         3         3       3            3           <none>          18m\n\n  NAME                    READY   AGE\n  statefulset.apps/loki   1/1     18m"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here we see that Loki is running in port 3100. Open Grafana and go to settings and \"Add data source\". Choose Loki and then insert the correct URL. From the output above we can guess that the port should be 3100, the namespace is loki-stack and the name of the service is loki. So the answer would be: "},{"type":"element","tagName":"a","properties":{"href":"http://loki.loki-stack:3100","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"http://loki.loki-stack:3100"}]},{"type":"text","value":". No other fields need to be changed."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now we can use the Explore tab (compass) to explore the data."}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 920px; margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/88392fc85cf5bd2220efc6a3889b0020/c4451/loki_app_redisapp.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 24.347826086956523%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAA40lEQVQY04WQzUrEMBSFsxJk6DD9GZ0maf7TNLVxpuCAunHvK/gcPv8xE1B0oS4+LtwL37kcsq+ucHd8gHEeN32Put1DaQupLPigMEj9BRcK1o0YQyw4PyHGiPTyhvT6jnD/BHK92SCenuHmFXrMEiFA2VDY1e2fbHc1DpSDcoG6aUsg6boOfgw4ntaSrrTBkhJ8mPKHMosF2G9kEaUD+gzjErcHBlJVW2jrMC8pp7Es4ViWWGRKOxgz/ou1AUo5pLSCNE0DbRxCmEt3QppyvKRfenRu+oH3nzN+20Vo7XE+P+IDmBSJm2gmSxgAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/88392fc85cf5bd2220efc6a3889b0020/a0b58/loki_app_redisapp.webp 230w","/static/88392fc85cf5bd2220efc6a3889b0020/bc10c/loki_app_redisapp.webp 460w","/static/88392fc85cf5bd2220efc6a3889b0020/966d8/loki_app_redisapp.webp 920w","/static/88392fc85cf5bd2220efc6a3889b0020/445df/loki_app_redisapp.webp 1380w","/static/88392fc85cf5bd2220efc6a3889b0020/a7dc3/loki_app_redisapp.webp 1450w"],"sizes":["(max-width:","920px)","100vw,","920px"],"type":"image/webp"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/88392fc85cf5bd2220efc6a3889b0020/81c8e/loki_app_redisapp.png 230w","/static/88392fc85cf5bd2220efc6a3889b0020/08a84/loki_app_redisapp.png 460w","/static/88392fc85cf5bd2220efc6a3889b0020/c0255/loki_app_redisapp.png 920w","/static/88392fc85cf5bd2220efc6a3889b0020/b1001/loki_app_redisapp.png 1380w","/static/88392fc85cf5bd2220efc6a3889b0020/c4451/loki_app_redisapp.png 1450w"],"sizes":["(max-width:","920px)","100vw,","920px"],"type":"image/png"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/88392fc85cf5bd2220efc6a3889b0020/c0255/loki_app_redisapp.png","alt":"loki app redisapp","title":"loki app redisapp","loading":"lazy","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"element","tagName":"exercise","properties":{"name":"Exercise 2.10: Project v1.3"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"  The project could really use logging."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"  Add request logging so that you can monitor every todo that is sent to the backend."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"  Set the limit of 140 characters for todos into the backend as well. Use Postman or curl to test that too long todos are blocked by the backend and you can see the non-allowed messages in your grafana."}]}]},{"type":"element","tagName":"h3","properties":{"id":"the-easy-way-out","style":"position:relative;"},"children":[{"type":"text","value":"The easy way out"},{"type":"element","tagName":"a","properties":{"href":"#the-easy-way-out","ariaLabel":"the easy way out permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There was an easier way for us to install Prometheus with a few clicks. If you have to install it again you can try this:"}]},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Open Lens"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Right click the cluster icon in the top left and choose \"Settings\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Scroll down and under \"Features\" under \"Metrics\" you can press \"Install\""}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A great option especially for your local cluster or hobby cluster."}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"84aadc27-e1af-45aa-901d-9519613663d5"},"children":[]}]}]},"html":"<div><text-box variant='learningObjectives' name='Learning Objectives'><p>After this section you</p><ul>\n<li>know of the wide array of tools used for monitoring and can implement simple logging</li>\n<li>know about Helm, the package manager for Kubernetes</li>\n</ul></text-box><p>Our cluster and the apps in it have been pretty much a black box. We've thrown stuff in and then hoped that everything works all right. We're going to use <a href=\"https://prometheus.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Prometheus</a> to monitor the cluster and <a href=\"https://grafana.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Grafana</a> to view the data.</p><p>Before we can get started let's look into how Kubernetes applications are managed more easily. <a href=\"https://helm.sh/\" target=\"_blank\" rel=\"noopener noreferrer\">Helm</a> uses a packaging format called charts to define the dependencies of an application. Among other things Helm Charts include information for the version of the chart, the requirements of the application such as the Kubernetes version as well as other charts that it may depend on.</p><p>Installation instructions are <a href=\"https://helm.sh/docs/intro/install/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>. After that we can add the official charts repository:</p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ helm repo add prometheus-community https://prometheus-community.github.io/helm-charts\n$ helm repo add stable https://charts.helm.sh/stable</code></pre></div><p>And after that we can install <a href=\"https://artifacthub.io/packages/helm/prometheus-community/kube-prometheus-stack\" target=\"_blank\" rel=\"noopener noreferrer\">kube-prometheus-stack</a>. By default this would put everything to the default namespace.</p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ kubectl create namespace prometheus\n$ helm install prometheus-community/kube-prometheus-stack --generate-name --namespace prometheus</code></pre></div><p>This added a lot of stuff to our cluster. You can remove almost everything with <code class=\"language-text\">helm delete [name]</code> with the name found via the <code class=\"language-text\">helm list</code> command. Custom resource definitions are left and have to be manually removed if the need arises.</p><p>Lets open a way into Grafana so we can see the data.</p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ kubectl get po -n prometheus\n NAME                                                              READY   STATUS    RESTARTS   AGE\n kube-prometheus-stack-1602180058-prometheus-node-exporter-nt8cp   1/1     Running   0          53s\n kube-prometheus-stack-1602180058-prometheus-node-exporter-ft7dg   1/1     Running   0          53s\n kube-prometheus-stack-1602-operator-557c9c4f5-wbsqc               2/2     Running   0          53s\n kube-prometheus-stack-1602180058-prometheus-node-exporter-tr7ns   1/1     Running   0          53s\n kube-prometheus-stack-1602180058-kube-state-metrics-55dccdkkz6w   1/1     Running   0          53s\n alertmanager-kube-prometheus-stack-1602-alertmanager-0            2/2     Running   0          35s\n kube-prometheus-stack-1602180058-grafana-59cd48d794-4459m         2/2     Running   0          53s\n prometheus-kube-prometheus-stack-1602-prometheus-0                3/3     Running   1          23s\n\n$ kubectl -n prometheus port-forward kube-prometheus-stack-1602180058-grafana-59cd48d794-4459m  3000\n  Forwarding from 127.0.0.1:3000 -&gt; 3000\n  Forwarding from [::1]:3000 -&gt; 3000</code></pre></div><p>Access <a href=\"http://localhost:3000\" target=\"_blank\" rel=\"noopener noreferrer\">http://localhost:3000</a> with browser and use the credentials admin / prom-operator. At the top left you can browse different dashboards.</p><p>The dashboards are nice but we'd like to know more about the apps we're running as well. Let's add <a href=\"https://grafana.com/oss/loki/\" target=\"_blank\" rel=\"noopener noreferrer\">Loki</a> so that we can see logs. To confirm everything works for us let's create a simple application that'll output something to stdout.</p><p>Let's run the Redis application from previously <code class=\"language-text\">https://raw.githubusercontent.com/kubernetes-hy/material-example/master/app5/manifests/statefulset.yaml</code>. We can keep it running as it'll generate a good amount of log output for us.</p><p>The <a href=\"https://github.com/grafana/loki/tree/master/production/helm\" target=\"_blank\" rel=\"noopener noreferrer\">Loki Chart</a> includes almost everything:</p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ helm repo add loki https://grafana.github.io/loki/charts\n$ helm repo update\n$ kubectl create namespace loki-stack\n  namespace/loki-stack created\n\n$ helm upgrade --install loki --namespace=loki-stack loki/loki-stack\n\n$ kubectl get all -n loki-stack\n  NAME                      READY   STATUS    RESTARTS   AGE\n  pod/loki-promtail-n2fgs   1/1     Running   0          18m\n  pod/loki-promtail-h6xq2   1/1     Running   0          18m\n  pod/loki-promtail-8l84g   1/1     Running   0          18m\n  pod/loki-0                1/1     Running   0          18m\n\n  NAME                    TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE\n  service/loki            ClusterIP   10.43.170.68   &lt;none&gt;        3100/TCP   18m\n  service/loki-headless   ClusterIP   None           &lt;none&gt;        3100/TCP   18m\n\n  NAME                           DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR   AGE\n  daemonset.apps/loki-promtail   3         3         3       3            3           &lt;none&gt;          18m\n\n  NAME                    READY   AGE\n  statefulset.apps/loki   1/1     18m</code></pre></div><p>Here we see that Loki is running in port 3100. Open Grafana and go to settings and \"Add data source\". Choose Loki and then insert the correct URL. From the output above we can guess that the port should be 3100, the namespace is loki-stack and the name of the service is loki. So the answer would be: <a href=\"http://loki.loki-stack:3100\" target=\"_blank\" rel=\"noopener noreferrer\">http://loki.loki-stack:3100</a>. No other fields need to be changed.</p><p>Now we can use the Explore tab (compass) to explore the data.</p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 920px; margin-bottom: 1rem;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/88392fc85cf5bd2220efc6a3889b0020/c4451/loki_app_redisapp.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 24.347826086956523%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAA40lEQVQY04WQzUrEMBSFsxJk6DD9GZ0maf7TNLVxpuCAunHvK/gcPv8xE1B0oS4+LtwL37kcsq+ucHd8gHEeN32Put1DaQupLPigMEj9BRcK1o0YQyw4PyHGiPTyhvT6jnD/BHK92SCenuHmFXrMEiFA2VDY1e2fbHc1DpSDcoG6aUsg6boOfgw4ntaSrrTBkhJ8mPKHMosF2G9kEaUD+gzjErcHBlJVW2jrMC8pp7Es4ViWWGRKOxgz/ou1AUo5pLSCNE0DbRxCmEt3QppyvKRfenRu+oH3nzN+20Vo7XE+P+IDmBSJm2gmSxgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <picture>\n        <source srcset=\"/static/88392fc85cf5bd2220efc6a3889b0020/a0b58/loki_app_redisapp.webp 230w,\n/static/88392fc85cf5bd2220efc6a3889b0020/bc10c/loki_app_redisapp.webp 460w,\n/static/88392fc85cf5bd2220efc6a3889b0020/966d8/loki_app_redisapp.webp 920w,\n/static/88392fc85cf5bd2220efc6a3889b0020/445df/loki_app_redisapp.webp 1380w,\n/static/88392fc85cf5bd2220efc6a3889b0020/a7dc3/loki_app_redisapp.webp 1450w\" sizes=\"(max-width: 920px) 100vw, 920px\" type=\"image/webp\">\n        <source srcset=\"/static/88392fc85cf5bd2220efc6a3889b0020/81c8e/loki_app_redisapp.png 230w,\n/static/88392fc85cf5bd2220efc6a3889b0020/08a84/loki_app_redisapp.png 460w,\n/static/88392fc85cf5bd2220efc6a3889b0020/c0255/loki_app_redisapp.png 920w,\n/static/88392fc85cf5bd2220efc6a3889b0020/b1001/loki_app_redisapp.png 1380w,\n/static/88392fc85cf5bd2220efc6a3889b0020/c4451/loki_app_redisapp.png 1450w\" sizes=\"(max-width: 920px) 100vw, 920px\" type=\"image/png\">\n        <img class=\"gatsby-resp-image-image\" src=\"/static/88392fc85cf5bd2220efc6a3889b0020/c0255/loki_app_redisapp.png\" alt=\"loki app redisapp\" title=\"loki app redisapp\" loading=\"lazy\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n      </picture>\n  </a>\n    </span><exercise name='Exercise 2.10: Project v1.3'><p>  The project could really use logging.</p><p>  Add request logging so that you can monitor every todo that is sent to the backend.</p><p>  Set the limit of 140 characters for todos into the backend as well. Use Postman or curl to test that too long todos are blocked by the backend and you can see the non-allowed messages in your grafana.</p></exercise><h3 id=\"the-easy-way-out\" style=\"position:relative;\">The easy way out<a href=\"#the-easy-way-out\" aria-label=\"the easy way out permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3><p>There was an easier way for us to install Prometheus with a few clicks. If you have to install it again you can try this:</p><ol>\n<li>Open Lens</li>\n<li>Right click the cluster icon in the top left and choose \"Settings\"</li>\n<li>Scroll down and under \"Features\" under \"Metrics\" you can press \"Install\"</li>\n</ol><p>A great option especially for your local cluster or hobby cluster.</p><div><quiz id=\"84aadc27-e1af-45aa-901d-9519613663d5\"></quiz></div></div>","frontmatter":{"path":"/part-2/5-monitoring","title":"Monitoring"},"fileAbsolutePath":"/home/runner/work/kubernetes-hy.github.io/kubernetes-hy.github.io/data/part-2/5-monitoring.md"},"allPages":{"edges":[{"node":{"id":"e4e5fe1c-25b1-57b3-87eb-e204e767a49c","frontmatter":{"path":"/faq","title":"FAQ"}}},{"node":{"id":"9f6e26aa-46a9-523d-96e4-a57c65ec083d","frontmatter":{"path":"/frontmatter-guide","title":"Frontmatter-guide"}}},{"node":{"id":"ecaa7011-87db-5ece-9b3c-1cfad638324a","frontmatter":{"path":"/","title":"Homepage"}}},{"node":{"id":"3d7eac33-2990-59d1-a002-64e0b0f4f370","frontmatter":{"path":"/known-problems-solutions","title":"Issues you may face"}}},{"node":{"id":"57c61ed7-37c4-5d0f-acd8-1dca0de6be4a","frontmatter":{"path":"/registration-and-completion","title":"Registration and Completion"}}},{"node":{"id":"ef82e5ba-97ba-51a5-ae2c-252b58c0c4f5","frontmatter":{"path":"/news-and-upcoming","title":"News and Upcoming"}}},{"node":{"id":"8ecc11b1-3298-589e-b97a-2a3a36861b8d","frontmatter":{"path":"/sanasto","title":"Sanasto"}}},{"node":{"id":"dab4b6a7-96cf-5efe-83f4-f5199c283e65","frontmatter":{"path":"/part-0","title":"Part 0"}}},{"node":{"id":"78948204-39a7-5f81-b9f4-3029400d5f82","frontmatter":{"path":"/part-1/2-introduction-to-debugging","title":"Introduction to Debugging"}}},{"node":{"id":"0b237cfb-5f2a-5d8e-9aa0-0cf9b045db3a","frontmatter":{"path":"/part-1/5-summary","title":"Summary"}}},{"node":{"id":"fe4a80ee-85ba-536e-bbf5-c5695399f40f","frontmatter":{"path":"/part-1","title":"Part 1"}}},{"node":{"id":"19841be9-897c-577a-9f82-5a7381bc073c","frontmatter":{"path":"/part-2/1-networking-between-pods","title":"Networking between pods"}}},{"node":{"id":"9e4ff8d0-2e6c-5d55-83a0-16ada460096d","frontmatter":{"path":"/part-2/2-organizing-a-cluster","title":"Organizing a cluster"}}},{"node":{"id":"0353d158-f751-57fd-94ce-373924da1b05","frontmatter":{"path":"/part-2/3-configuring-applications","title":"Configuring applications"}}},{"node":{"id":"eae6660d-1d18-527a-bc1c-0f2f7ab54c6d","frontmatter":{"path":"/part-2/4-statefulsets-and-jobs","title":"StatefulSets and Jobs"}}},{"node":{"id":"56f2a7a2-c9e2-5bbb-b6a7-76fd46592c69","frontmatter":{"path":"/part-2/5-monitoring","title":"Monitoring"}}},{"node":{"id":"f802a4ea-8d5a-503f-ad7b-d0138ab84c80","frontmatter":{"path":"/part-2/6-summary","title":"Summary"}}},{"node":{"id":"b810e0d9-0ac2-5073-a9dc-4ffd6649b7f7","frontmatter":{"path":"/part-2","title":"Part 2"}}},{"node":{"id":"40440141-c1a8-5723-858a-eea86119b5b6","frontmatter":{"path":"/part-3/4-summary","title":"Summary"}}},{"node":{"id":"708df9d2-30d1-518f-8066-80109a75c4dc","frontmatter":{"path":"/part-3","title":"Part 3"}}},{"node":{"id":"47a288aa-ece4-5ba6-ab6e-cbc63dbdc752","frontmatter":{"path":"/part-4/4-summary","title":"Summary"}}},{"node":{"id":"c8b1eb5e-3c98-59b3-b6e9-6173791d7e34","frontmatter":{"path":"/part-4","title":"Part 4"}}},{"node":{"id":"8a2e40fa-1703-5755-aa66-ac69bf2e291d","frontmatter":{"path":"/part-5/3-service-mesh","title":"Service Mesh"}}},{"node":{"id":"7bebb01b-c990-5e7e-a9aa-d60f10ba63dd","frontmatter":{"path":"/part-5/5-summary","title":"Summary and end"}}},{"node":{"id":"cbd58376-8d52-5297-b38d-653179a1226f","frontmatter":{"path":"/part-5","title":"Part 5"}}},{"node":{"id":"e4c53dca-867f-5293-9b28-657b695cd3f3","frontmatter":{"path":"/part-1/3-introduction-to-networking","title":"Introduction to Networking"}}},{"node":{"id":"fd6ebeaa-c808-5f11-9bdc-30e4f69b8a2a","frontmatter":{"path":"/part-1/4-introduction-to-storage","title":"Introduction to Storage"}}},{"node":{"id":"9f3c6f02-668a-517b-b7b6-1828f74c7200","frontmatter":{"path":"/part-3/1-introduction-to-gke","title":"Introduction to Google Kubernetes Engine"}}},{"node":{"id":"e80b74e8-a23b-5d3c-808b-833a72ac739c","frontmatter":{"path":"/part-3/2-deployment-pipeline","title":"Deployment Pipeline"}}},{"node":{"id":"78f84327-bd7b-5b5d-941d-9fae8bca88d3","frontmatter":{"path":"/part-3/3-gke-features","title":"GKE features"}}},{"node":{"id":"f5314214-d779-5fb4-a19f-ab7442f3fbb2","frontmatter":{"path":"/part-4/2-messaging-systems","title":"Messaging Systems"}}},{"node":{"id":"0a2d8cfd-8e40-59a7-a688-e8bdc9fb9e3a","frontmatter":{"path":"/part-4/3-gitops","title":"GitOps"}}},{"node":{"id":"39fb03b7-2abe-515a-a543-b812fcbfdba5","frontmatter":{"path":"/part-5/1-kubernetes-internals","title":"Kubernetes Internals"}}},{"node":{"id":"a899eeb2-4329-5c9b-aadf-2fb803fa9142","frontmatter":{"path":"/part-5/2-custom-resource-definitions","title":"Custom Resource Definitions"}}},{"node":{"id":"471982cb-da12-5799-a6b2-fa8a3e67aa0d","frontmatter":{"path":"/part-5/4-beyond-kubernetes","title":"Beyond Kubernetes"}}},{"node":{"id":"da15a80e-5316-5986-afcf-75d521065017","frontmatter":{"path":"/part-1/1-first-deploy","title":"First Deploy"}}},{"node":{"id":"33c86b5c-3684-5006-b4e7-dbd0c7cc04bc","frontmatter":{"path":"/part-4/1-update-strategies-and-prometheus","title":"Update Strategies and Prometheus"}}}]}},"pageContext":{}},"staticQueryHashes":["3294351120","994120085"]}